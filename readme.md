# music21server
pythonのライブラリであるmusic21をローカルホストで実行するアプリです。  
music21は音楽を解析するための優れたライブラリですが、python以外の言語にポーティングされていません。  
なので他の言語からmusic21を実行できるようにHTTPリクエストを使用して間接的に他の言語からmusic21を実行できるようにするのがこのアプリの目的です。  
ホストがサーバに対してGETリクエストを送信し、この時クエリパラメータとしてJSON文字列を指定します。  
これを受け取ったmusic21serverは、JSONを適切にパースしてmusic21の機能を実行した後実行結果をJSON文字列で返します。

## 送信するJSONの形式
最低限必ず以下の属性が必要です。  
この他に必要な属性はコマンドタイプによって決定されます。  
このJSONを元にmusic21の機能を実行します。
````
{
    "command": "コマンドのタイプ"
}
````

## 返信するJSONの形式
最低限必ず以下の属性が存在することが保証されます。  
この他の属性は送信時のコマンドタイプによって追加で送られます。
````
{
    "status": 成功したなら 0, そうでなければ 1
}
````

## 起動方法
`music21server`, もしくは `music21server 8181`のようにポート番号を指定して起動できます。  
実際にはホスト言語のプロセス実行機能を使用して実行することになります。  


## 終了方法
次のようなJSONパラメータを送信するとサーバが終了します。
````
{
    "command": "exit"
}
````